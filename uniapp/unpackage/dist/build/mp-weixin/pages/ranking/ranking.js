(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/ranking/ranking"],{"0363":function(t,n,a){"use strict";a.r(n);var e=a("f7d8"),i=a("454c");for(var o in i)"default"!==o&&function(t){a.d(n,t,(function(){return i[t]}))}(o);a("a7d4");var s,r=a("f0c5"),l=Object(r["a"])(i["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],s);n["default"]=l.exports},"3b61":function(t,n,a){"use strict";(function(t){a("c5a6");e(a("66fd"));var n=e(a("0363"));function e(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,a("543d")["createPage"])},"454c":function(t,n,a){"use strict";a.r(n);var e=a("cc70"),i=a.n(e);for(var o in e)"default"!==o&&function(t){a.d(n,t,(function(){return e[t]}))}(o);n["default"]=i.a},a7d4:function(t,n,a){"use strict";var e=a("fe56"),i=a.n(e);i.a},cc70:function(t,n,a){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=getApp(),e={data:function(){return{tophight:0,scrollH:0,scrollHRankShow:0,allRanking:[],departRanking:[],list:[],showType:1,firstThree:[],showTitle:"所属单位排行",partys:[],isParty:!1}},onShow:function(){""!=a.globalData.userInfo?this.getRanking():t.navigateTo({url:"../login/index"})},onShareTimeline:function(t){},onShareAppMessage:function(t){},onReady:function(){if(""!=a.globalData.userInfo){this.getRanking();var n=this;n.tophight=t.getMenuButtonBoundingClientRect().top+8,t.getSystemInfo({success:function(t){n.scrollHRankShow=750*t.windowHeight/t.windowWidth-790,t.windowHeight<700?n.scrollH=750*t.windowHeight/t.windowWidth-parseInt(t.safeArea.top)-parseInt(t.safeArea.bottom)-200:n.scrollH=750*t.windowHeight/t.windowWidth-parseInt(t.safeArea.top)-parseInt(t.safeArea.bottom)-50}})}else t.navigateTo({url:"../login/index"})},methods:{fanhui:function(){t.navigateBack({delta:1})},getRanking:function(){var n=this;t.request({url:a.globalData.site_url+"/appapi/?s=Home.GetRankingScore",method:"GET",data:{uid:a.globalData.userInfo.id,token:a.globalData.userInfo.token},success:function(a){if(0==a.data.data.code||(t.showToast({icon:"none",title:a.data.data.msg}),700!=a.data.data.code)){n.allRanking=a.data.data.info[0].all,n.departRanking=a.data.data.info[0].depart,n.partys=a.data.data.info[0].partys,n.list=a.data.data.info[0].depart;for(var e=0;e<3;e++)n.firstThree.push(n.list[e])}else t.navigateTo({url:"../login/index"})},fail:function(){t.showToast({icon:"none",title:"网络错误"})}})},getRankingType:function(t){if(1==t){this.list=this.departRanking,this.isParty=!1,this.showType=1,this.showTitle="所属单位排行";for(var n=0;n<3;n++)this.firstThree[n]=this.departRanking[n]}else{this.list=this.partys,this.isParty=!0,this.showType=2,this.showTitle="各单位排行";for(n=0;n<3;n++)this.firstThree[n]=this.partys[n]}}}};n.default=e}).call(this,a("543d")["default"])},f7d8:function(t,n,a){"use strict";var e;a.d(n,"b",(function(){return i})),a.d(n,"c",(function(){return o})),a.d(n,"a",(function(){return e}));var i=function(){var t=this,n=t.$createElement,a=(t._self._c,t.__map(t.list,(function(n,a){var e=t.__get_orig(n),i=parseInt(a);return{$orig:e,m0:i}})));t.$mp.data=Object.assign({},{$root:{l0:a}})},o=[]},fe56:function(t,n,a){}},[["3b61","common/runtime","common/vendor"]]]);