(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/index"],{"0fc9":function(t,a,e){"use strict";(function(t){e("c5a6");n(e("66fd"));var a=n(e("c7d5"));function n(t){return t&&t.__esModule?t:{default:t}}t(a.default)}).call(this,e("543d")["createPage"])},"15da":function(t,a,e){"use strict";var n;e.d(a,"b",(function(){return o})),e.d(a,"c",(function(){return i})),e.d(a,"a",(function(){return n}));var o=function(){var t=this,a=t.$createElement;t._self._c},i=[]},2939:function(t,a,e){"use strict";var n=e("a8d6"),o=e.n(n);o.a},a715:function(t,a,e){"use strict";e.r(a);var n=e("cee6"),o=e.n(n);for(var i in n)"default"!==i&&function(t){e.d(a,t,(function(){return n[t]}))}(i);a["default"]=o.a},a8d6:function(t,a,e){},c7d5:function(t,a,e){"use strict";e.r(a);var n=e("15da"),o=e("a715");for(var i in o)"default"!==i&&function(t){e.d(a,t,(function(){return o[t]}))}(i);e("2939");var u,l=e("f0c5"),r=Object(l["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],u);a["default"]=r.exports},cee6:function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=o(e("89dc"));function o(t){return t&&t.__esModule?t:{default:t}}var i=getApp(),u={data:function(){return{navHeight:0,margin_top:"",codeText:"获取验证码",phone:"",mac:"",configInfo:[]}},onLoad:function(){var t=this;this.navHeight=i.globalData.navHeight+"rpx";var a=i.globalData.site_url+"/appapi/?s=Home.GetConfig";n.default.requestApi(a,{}).then((function(a){t.configInfo=a.data.info[0]}))},methods:{changePhone:function(t){this.phone=t.detail.value},getCode:function(){var a=this;if(11==this.phone.length){this.codeText="重新获取";var e=i.globalData.site_url+"/appapi/?s=Login.GetCode",o={mobile:this.phone};n.default.requestApi(e,o).then((function(e){console.log(e),0==e.data.code&&(a.mac=e.data.info[0].mac),t.showToast({title:e.data.msg,icon:"none"})}))}else t.showToast({title:"请输入正确手机号",icon:"none"})},goForget:function(){t.navigateTo({url:"/pages/forget/index"})},goReg:function(){t.navigateTo({url:"/pages/reg/index"})},goHome:function(){t.navigateTo({url:"/pages/index/index"})},doLogin:function(a){var e=a.detail.value.login_name,o=a.detail.value.login_pass;if(""!=e)if(11==e.length){var u=i.globalData.site_url+"/appapi/?s=Login.UserLogin",l={user_login:e,user_pass:o,mac:this.mac};n.default.requestApi(u,l).then((function(a){0==a.data.code?(i.globalData.login_score=a.data.info[0].login_score,i.globalData.first_login=a.data.info[0].first_login,t.setStorage({key:"userInfo",data:a.data.info[0]}),i.globalData.userInfo=a.data.info[0],t.request({url:i.globalData.site_url+"/appapi/?s=User.getUserAuth",method:"GET",data:{uid:i.globalData.userInfo.id,token:i.globalData.userInfo.token},success:function(t){0==t.data.data.code&&(i.globalData.front_auth=t.data.data.info)}}),t.redirectTo({url:"/pages/index/index"})):t.showToast({title:a.data.msg,icon:"none"})}))}else t.showToast({title:"请输入正确手机号",icon:"none"});else t.showToast({title:"请输入手机号",icon:"none"})}}};a.default=u}).call(this,e("543d")["default"])}},[["0fc9","common/runtime","common/vendor"]]]);